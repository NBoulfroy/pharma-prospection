function Form(a=null,b,c,d,e,f,g=null,h=null){this.modal=a,this.class=b,this.submitButton=c,this.buttons=d,this.url=e,this.dataClass=document.getElementsByClassName(f),this.form=document.getElementsByClassName(this.class)[0],this.type=g,this.link=h,this._events()}Form.prototype._dateVerification=function(a){let b=new Date(a),c=new Date,d=new Date;return d.setDate(c.getDate()-30),b<d||b>c?!1:!0},Form.prototype._controlValue=function(a,b){return'string'===a?/^[a-z-A-Z0-9 ,!?&éàçÉæ?\-ÇÈœŒÀÄâöÖêËü²ÜûÛäÙè\'\"]{1,}$/g.test(b):'int'===a?/^[0-9]{1,}$/g.test(b):'decimal'===a?/^([0-9]{1,})+(\.[0-9]{1,}?)?$/g.test(b):'date'===a?!!/^[^A-Za-z <>]{10}$/g.test(b)&&this._dateVerification(b):!('img'!=a)&&('image/png'===b||'image/jpeg'===b)},Form.prototype._resetColorInput=function(a){for(let b=0;b<a.getElementsByTagName('input').length-1;b++)a.getElementsByTagName('input')[b].style.borderColor='#d3d3d3'},Form.prototype._displayWrongColor=function(a){for(let b=0;b<a.getElementsByTagName('input').length-1;b++)a.getElementsByTagName('input')[b].style.borderColor='red'},Form.prototype._controlInput=function(a,b){return this._controlValue(a,b)?(document.getElementById('save').removeAttribute('disabled'),!0):(document.getElementById('save').setAttribute('disabled','disabled'),!1)},Form.prototype._controlForm=function(){let a=this.form,b=a.getElementsByTagName('input'),c;for(let d=0;d<b.length-1;d++){if(c='img'===b[d].getAttribute('data-type')?''==b[d].value?'':b[d].files[0].type:''==b[d].value?0:b[d].value,!Form.prototype._controlInput(b[d].getAttribute('data-type'),c)){Form.prototype._displayWrongColor(a);break}Form.prototype._resetColorInput(a)}},Form.prototype._preventSubmit=function(){document.getElementsByClassName(this.class)[0].submit=function(){return!1}},Form.prototype.disabledButton=function(){document.getElementById(this.submitButton).setAttribute('disabled','disabled')},Form.prototype._events=function(){let a=this.modal,b=this.form,c=b.getAttribute('class'),d=this.form.getElementsByTagName('input'),e=this.buttons,f=this.url,g=this.dataClass,h=this.type,m=this.link;this.disabledButton();for(let n=0;n<d.length-1;n++)d[n].addEventListener('change',this._controlForm);for(let n=0;n<e.length;n++)document.getElementById(e[n]).addEventListener('click',function(){document.getElementsByClassName(c)[0].reset(),Form.prototype._resetColorInput(b)});document.getElementById(this.submitButton).addEventListener('click',function(){let n=new FormData;for(let p=0;p<d.length;p++)'img'===d[p].getAttribute('data-type')?n.append(d[p].getAttribute('name'),d[p].files[0]):n.append(d[p].getAttribute('name'),''==d[p].value?0:d[p].value);new Ajax(a,b,'POST',f,n,g,h,m)})};